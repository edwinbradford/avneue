
// Container for all progress sliders
// Also acts as hover area 
.video-js .vjs-progress-control {
  position: absolute;
  bottom: $slider-height * ($slider-hover-height / -2); // Vertically center hover area
  left: $progress-bar-margin;
  right: $progress-bar-margin;
  width: auto;
  height: $slider-height * $slider-hover-height; // Increase hover area for UX
  background-color: transparent;
  // background-color: rgba(255,255,0,0.5); // yellow debug background
  pointer-events: all; // Make buttons clickable
  @include transition(all 0.5s);
}

// Height and position of progress bars
// Also acts as seek scrubber.
.video-js .vjs-progress-holder {
  outline: 0;
  position: relative;
  top: ($slider-height * $slider-hover-height / 2) - ($slider-height / 2);
  height: $slider-height;
  cursor: pointer;
  padding: 0;
  margin: 0;
  @include background-color-with-alpha($primary-background-color, 0.8);
  @include transition(all 0.5s);
}

// Height and position of drag handle
.video-js .vjs-play-progress {
  height: 100%;
  background-color: $accent-color;
  
  // Progress handle
  &:before {
    // display: none; // Enable this to hide handle at start
    content:"";
    position: absolute;
    top: ($slider-height * -2) + ($slider-height / 2);
    right: ($slider-height * $slider-handle-height) / -2;
    width: $slider-height * $slider-handle-height;
    height: $slider-height * $slider-handle-height;
    background-color: inherit;
    @include border-radius(50%);
    @include box-shadow(0 0 4px rgba(0,0,0,0.4));
    @include transition(all 0.5s);
  }
}

// Show handle when video starts
// Has no effect if handle is not hidden... see above
.vjs-has-started .vjs-play-progress {
  &:before {
    display: block;
  }
}

// Height and position of progress bars and handle on hover
.vjs-has-started .vjs-progress-control {
  &:hover {
    // Progress bars hover
    .vjs-progress-holder {
      top: ($slider-height * $slider-hover-height / 2) - ($slider-height * $slider-height-increase / 2);
      height: $slider-height * $slider-height-increase;
      @include transition(all 0.5s);    
    }
    // Handle hover
    .vjs-play-progress:before {
      top: (($slider-height * $slider-handle-height-increase) / -2) + ($slider-height * $slider-height-increase / 2); // bar vertical center - handle radius
      right: ($slider-height * $slider-handle-height-increase) / -2; // handle radius
      height: $slider-height * $slider-handle-height-increase;
      width: $slider-height * $slider-handle-height-increase;
      @include transition(all 0.5s);
    }
  }
}

.vjs-live .vjs-progress-control {
  display: none;
}

// Current time tooltip 
.video-js .vjs-progress-control:hover .vjs-mouse-display:after,
.video-js .vjs-progress-control:hover .vjs-play-progress:after {
  display: none;
}

// Progress Bars
.video-js .vjs-progress-holder .vjs-play-progress,
.video-js .vjs-progress-holder .vjs-load-progress,
.video-js .vjs-progress-holder .vjs-load-progress div {
  position: absolute;
  display: block;
  height: 100%;
  margin: 0;
  padding: 0;
  // updated by javascript during playback
  width: 0;
  // Needed for IE6
  left: 0;
  top: 0;
}

.video-js .vjs-mouse-display {
  // @extend .vjs-icon-circle;
  display: none;
  &:before {
    display: none;
  }
}


// Current Time "tooltip"
// By default this is hidden and only shown when hovering over the progress control
.video-js .vjs-mouse-display:after,
.video-js .vjs-play-progress:after {
  display: none;
  position: absolute;
  top: -3.4em;
  right: -1.5em;
  font-size: 0.9em;
  color: #000;
  content: attr(data-current-time);
  padding: 6px 8px 8px 8px;
  @include background-color-with-alpha(#fff, 0.8);
  @include border-radius(0.3em);
}
.video-js .vjs-play-progress:before,
.video-js .vjs-play-progress:after {
  z-index: 1;
}

// Buffer
.video-js .vjs-load-progress {
  background-color: $secondary-background-color;
  height: 100%;
}

// there are child elements of the load progress bar that represent the
// specific time ranges that have been buffered
.video-js .vjs-load-progress div {
  // For IE8 we'll lighten the color
  background: lighten($secondary-background-color, 50%);
  // Otherwise we'll rely on stacked opacities
  background: rgba($secondary-background-color, 0.75);
}

.video-js.vjs-no-flex .vjs-progress-control {
  width: auto;
}

.video-js .vjs-progress-control .vjs-mouse-display {
  display: none;
  position: absolute;
  width: 1px;
  height: 100%;
  background-color: #000;
  z-index: 1;
}
.vjs-no-flex .vjs-progress-control .vjs-mouse-display {
  z-index: 0;
}
.video-js .vjs-progress-control:hover .vjs-mouse-display {
  display: block;
}
.video-js.vjs-user-inactive .vjs-progress-control .vjs-mouse-display,
.video-js.vjs-user-inactive .vjs-progress-control .vjs-mouse-display:after {
  visibility: hidden;
  opacity: 0;
  $trans: visibility 1.0s, opacity 1.0s;
  @include transition($trans);
}
.video-js.vjs-user-inactive.vjs-no-flex .vjs-progress-control .vjs-mouse-display,
.video-js.vjs-user-inactive.vjs-no-flex .vjs-progress-control .vjs-mouse-display:after {
  display: none;
}
.video-js .vjs-progress-control .vjs-mouse-display:after {
  color: #fff;
  @include background-color-with-alpha(#000, 0.8);
}
